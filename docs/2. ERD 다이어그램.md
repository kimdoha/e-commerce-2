## 전체 도메인 ERD

![img.png](images/domain.png)

### 회원 도메인 ERD
![img_1.png](images/user_domain.png)



### 상품 도메인 ERD
상품은 크게 `상품 < 1:N > 상품 옵션 < 1:1 > 재고` 를 갖도록 구성했습니다. 
- 상품 최종 가격은 `sale_price`와 옵션 추가 가격 `option_price`로 결정됩니다.
- 재고의 경우 옵션의 총 재고 수량 `total_stock_cnt` 과  예약 재고 수량 `reservation_stock_cnt` 으로 관리됩니다. (왜지?)
- 상위 인기 상품은 스케줄러를 통해 일별 판매 상품 적재 -> 적재된 일별 상품 데이터를 가공한 3일간 인기 상품 스케줄러 2개의 테이블이 존재합니다.
- 3일간 인기상품의 총 판매량은 일일 상품 판매 테이블의 현재시점 - 3 일의 데이터를 가공하여 판매량을 합산하고, 랭킹 순위는 아래와 같은 정책을 따릅니다.
  - 총판매량 순위
  - 판매량이 같은 경우

![img_3.png](images/product_domain.png)




### 주문 도메인 ERD
![img_4.png](images/order_domain.png)
